<div class="page page-project page-project-define" ng-controller="ProjectDefineCtrl">
	<header class="project-header">
		<div class="project-header-text">
			{{projectCharter.Name}} - Define Phase
		</div>
		<div class="project-info">
			<ul class="list-unstyled list-inline">
				<li>PROJ{{projectId}}</li>
				<li><i class="fa fa-check"></i> Tasks <span class="text-muted">({{$root.currentProject.tasksLeft}})</span></li>
				<li class="pull-right back-to-project"><a href="#/project/{{projectId}}"><i class="zmdi zmdi-arrow-left"></i> Back To Project</a></li>
			</ul>
		</div>
	</header>
	<div class="row ui-section">
		<section class="panel panel-default">
			<div class="panel-body">
				<div class="row">
					<div class="col-md-12">
						<div class="ui-tab-container ui-tab-vertical">
							<uib-tabset class="ui-tab">
								<uib-tab ng-click="activateTab(0)" active="activeTab[0]">
									<uib-tab-heading>
										<span>Charter</span>
										<div class="ui-ribbon-container ui-ribbon-success">
											<div class="ui-ribbon-wrapper" ng-show="phaseDetail.Charter.Status != 'working'">
												<div class="ui-ribbon">
													<i class="fa fa-fw fa-check"></i>
												</div>
											</div>
										</div>
									</uib-tab-heading>
									<div class="row">
										<div class="col-sm-12">
											<div layout="column" ng-cloak class="md-inline-form inputdemoBasicUsage">
												<md-content layout-padding>
													<form name="userForm" ng-submit="submitCharter()">
														<div layout layout-sm="column">
															<md-input-container flex>
																<label>Project Name</label>
																<input ng-model="projectCharter.Name">
															</md-input-container>
															<md-datepicker ng-model="projectCharter.DateTimeCreated" md-placeholder="Date"></md-datepicker>
														</div>
														<div layout layout-sm="column">
															<md-input-container flex>
																<label>Business Unit</label>
																<input ng-model="projectCharter.BusinessUnit">
															</md-input-container>
															<md-input-container flex>
																<label>Location</label>
																<input ng-model="projectCharter.Location">
															</md-input-container>
														</div>
														<div layout layout-sm="column">
															<md-input-container class="md-block" flex-sm="100" flex="50">
																<label>Project Sponsor</label>
																<md-content class="autocomplete contactChips" layout="column" md-on-select="testAppend()" ng-cloak>
																	<md-contact-chips ng-model="projectCharter.Sponsor" md-contacts="querySearch($query)" md-contact-name="name" md-contact-image="image" md-contact-email="email" md-require-match="true" md-highlight-flags="i" filter-selected="filterSelected"></md-contact-chips>
																</md-content>
															</md-input-container>
															<md-input-container class="md-block" flex-sm="100" flex="50">
																<label>Project Lead</label>
																<md-content class="autocomplete contactChips" layout="column" ng-cloak>
																	<md-contact-chips ng-model="projectCharter.Lead" md-contacts="querySearch($query)" md-contact-name="name" md-contact-image="image" md-contact-email="email" md-require-match="true" md-highlight-flags="i" filter-selected="filterSelected"></md-contact-chips>
																</md-content>
															</md-input-container>
														</div>
														<div layout layout-sm="column">
															<md-input-container md-no-float class="md-block" flex>
																<label>Project Type</label>
																<input ng-model="projectCharter.Type">
															</md-input-container>
														</div>
														<div layout layout-sm="column">
															<md-input-container flex-sm="100" flex="30">
																<label>Cost Savings/Avoidance ($)</label>
																<input type="number" ng-model="projectCharter.BusinessImpactValue" ng-pattern="/^[0-9]+(\.[0-9]{1,2})?$/" step="0.01"/>
															</md-input-container>
															<md-input-container flex-sm="100" flex="70">
																<label>Business Impact</label>
																<textarea ng-model="projectCharter.BusinessImpact"></textarea>
															</md-input-container>
														</div>
														<div layout layout-sm="column">
															<md-input-container md-no-float class="md-block" flex>
																<label>Problem Statement</label>
																<textarea ng-model="projectCharter.ProblemStatement"></textarea>
															</md-input-container>
														</div>
														<div layout layout-sm="column">
															<md-input-container md-no-float class="md-block" flex>
																<label>Goal</label>
																<textarea ng-model="projectCharter.Goals"></textarea>
															</md-input-container>
														</div>
														<div layout layout-sm="column">
															<md-input-container md-no-float class="md-block" flex>
																<label>Project Scope</label>
																<textarea ng-model="projectCharter.Scope"></textarea>
															</md-input-container>
														</div>
														<h4>Project Plan (Gate Review Dates)</h4>
														<div layout layout-sm="column">
															<md-input-container flex>
																<label>Define</label>
																<input type="text" class="form-control" ng-click="openCalendar('gateReviewDefine')" uib-datepicker-popup="shortDate" ng-model="projectCharter.gateReviewDefine.val" is-open="projectCharter.gateReviewDefine.status.opened" close-text="Close" />
															</md-input-container>
															<md-input-container flex>
																<label>Measure</label>
																<input type="text" class="form-control" ng-click="openCalendar('gateReviewMeasure')" uib-datepicker-popup="shortDate" ng-model="projectCharter.gateReviewMeasure.val" is-open="projectCharter.gateReviewMeasure.status.opened" close-text="Close" />
															</md-input-container>
															<md-input-container flex>
																<label>Analyze</label>
																<input type="text" class="form-control" ng-click="openCalendar('gateReviewAnalyze')" uib-datepicker-popup="shortDate" ng-model="projectCharter.gateReviewAnalyze.val" is-open="projectCharter.gateReviewAnalyze.status.opened" close-text="Close" />
															</md-input-container>
														</div>
														<div layout layout-sm="column">
															<md-input-container flex>
																<label>Improve</label>
																<input type="text" class="form-control" ng-click="openCalendar('gateReviewImprove')" uib-datepicker-popup="shortDate" ng-model="projectCharter.gateReviewImprove.val" is-open="projectCharter.gateReviewImprove.status.opened" close-text="Close" />
															</md-input-container>
															<md-input-container flex>
																<label>Control</label>
																<input type="text" class="form-control" ng-click="openCalendar('gateReviewControl')" uib-datepicker-popup="shortDate" ng-model="projectCharter.gateReviewControl.val" is-open="projectCharter.gateReviewControl.status.opened" close-text="Close" />
															</md-input-container>
														</div>
														<h4>Project Team</h4>
														<div layout layout-sm="column">
															<md-input-container md-no-float class="md-block" flex>
																<label>Core Team</label>
																<md-content class="autocomplete contactChips" layout="column" ng-cloak>
																	<md-contact-chips ng-model="projectCharter.CoreTeam" md-contacts="querySearch($query)" md-contact-name="name" md-contact-image="image" md-contact-email="email" md-require-match="true" md-highlight-flags="i" filter-selected="filterSelected" placeholder="Core Team"></md-contact-chips>
																</md-content>
															</md-input-container>
														</div>
														<div layout layout-sm="column">
															<md-input-container md-no-float class="md-block" flex>
																<label>Stakeholders</label>
																<md-content class="autocomplete contactChips" layout="column" ng-cloak>
																	<md-contact-chips ng-model="projectCharter.stakeholders" md-contacts="querySearch($query)" md-contact-name="name" md-contact-image="image" md-contact-email="email" md-require-match="true" md-highlight-flags="i" filter-selected="filterSelected" placeholder="Stakeholders"></md-contact-chips>
																</md-content>
															</md-input-container>
														</div>
														<div layout layout-sm="column">
															<md-input-container md-no-float class="md-block" flex>
																<md-button class="md-raised md-primary btn-w-md md-button md-ink-ripple pull-right" ng-transclude="" type="submit"><span class="ng-scope">Save Changes</span><div class="md-ripple-container"></div></md-button>
																<md-button class="md-raised md-accent btn-w-md md-button md-ink-ripple pull-right" style="margin-right:10px;" ng-transclude="" ng-click="completePhaseComponent('Define','Charter')" type="button"><span class="ng-scope">{{(phaseDetail.Charter.Status != 'working') ? 'Mark Incomplete' : 'Mark Complete'}}</span><div class="md-ripple-container"></div></md-button>
															</md-input-container>
														</div>
													</form>
												</md-content>
											</div>
										</div>
									</div>
								</uib-tab>
								<uib-tab heading="VOC &amp; CCR" ng-click="activateTab(1)" active="activeTab[1]">
									<uib-tab-heading>
										<span>VOC &amp; CCR</span>
										<div class="ui-ribbon-container ui-ribbon-success">
											<div class="ui-ribbon-wrapper" ng-show="phaseDetail.VOC_n_CCR.Status != 'working'">
												<div class="ui-ribbon">
													<i class="fa fa-fw fa-check"></i>
												</div>
											</div>
										</div>
									</uib-tab-heading>
									<div class="row subphase-header">
										<div class="col-sm-12">
											<md-menu md-position-mode="target-right target" class="pull-right">
												<md-button aria-label="Open Menu" class="md-icon-button subphase-menu-button" ng-click="generateVocCcrExportData();$mdOpenMenu($event)">
													<md-icon md-menu-origin><span class="fa fa-info-circle"></span></md-icon>
												</md-button>
												<md-menu-content width="2">
													<md-menu-item ng-show="!walkthroughs.voc_ccr"><md-button ng-click="showWalkthrough('voc_ccr', vocCcrData)"> <span md-menu-align-target>Show Walkthrough</span></md-button></md-menu-item>
													<md-menu-item ng-show="walkthroughs.voc_ccr"><md-button ng-click="hideWalkthrough('voc_ccr')"> <span md-menu-align-target>Skip Walkthrough</span></md-button></md-menu-item>
													<md-menu-item ng-show="!walkthroughs.voc_ccr">
														<!-- <md-button ng-click="exportData('DefineVocCcr','VOC & CCR')"> <span md-menu-align-target>Export Data</span></md-button> -->
														<a download="Voc_Ccr.xlsx" href="{{exportVocCcrBlobLink}}" md-menu-align-target class="md-button md-ink-ripple">Export Data</a>
													</md-menu-item>
												</md-menu-content>
											</md-menu>
										</div>
									</div>
									<div class="row" ng-show="walkthroughs.voc_ccr">
										<div class="col-sm-12" data-phase-component="voc_ccr" style="text-align:center">
											<p style="font-weight:100; font-size:2em; margin-bottom:20px">The customer is always right....right?<br/> Let's discuss the cricial customer requirements!</p>
											<div class="l6_step" data-step-required="Tool,Quantity">
												<p class="lead">What tool are you going to use to identify the customer's needs?</p>
												<div layout layout-align="center" style="text-align:left">
													<md-input-container flex-gt-sm="50" flex="100">
														<label>Tool</label>
														<md-select ng-blur="validateField($event, vocCcrData[vocCcrData.length - 1])" ng-model="vocCcrData[vocCcrData.length - 1].Tool" aria-label="select">
															<md-option ng-repeat="c in ['Interviews','Observation','Focus Group','Surveys']" value="{{c}}"> {{c}} </md-option>
														</md-select>
													</md-input-container>
													<md-input-container flex-gt-sm="33" flex="100">
														<label>Quantity</label>
														<input type="text" ng-blur="validateField($event, vocCcrData[vocCcrData.length - 1])" ng-model="vocCcrData[vocCcrData.length - 1].Quantity">
													</md-input-container>
												</div>
											</div>
											<div class="l6_step">
												<p class="lead">What are the customer's issues?</p>
												<div layout layout-align="center" style="text-align:left">
													<md-input-container flex-gt-sm="80" flex="100">
														<label>Issues</label>
														<textarea ng-blur="validateField($event, vocCcrData[vocCcrData.length - 1])" ng-model="vocCcrData[vocCcrData.length - 1].CustomerIssues"></textarea>
													</md-input-container>
												</div>
											</div>
											<div class="l6_step">
												<p class="lead">What are the customer's requirements?</p>
												<div layout layout-align="center" style="text-align:left">
													<md-input-container flex-gt-sm="80" flex="100">
														<label>Issues</label>
														<textarea ng-blur="validateField($event, vocCcrData[vocCcrData.length - 1])" ng-model="vocCcrData[vocCcrData.length - 1].CustomerRequirements"></textarea>
													</md-input-container>
												</div>
											</div>
											<div class="l6_step_submit" ng-if="walkthroughShouldShowSubmit()">
												<md-button class="md-raised btn-w-md md-primary" ng-click="hideWalkthrough('voc_ccr')">Submit</md-button>
											</div>
											<div class="l6_step_next" ng-if="walkthroughShouldShowNext()">
												<md-button class="btn-next-step md-raised md-accent btn-w-md" ng-click="goToNextStep()">Next Step <i class="fa fa-fw fa-angle-right"></i></md-button>
											</div>
										</div>
									</div>
									<div class="row" ng-show="!walkthroughs.voc_ccr">
										<div class="col-sm-12">
											<div class="row">
												<div class="col-sm-12">
													<div class="table-responsive">
														<table class="table table-striped table-bordered no-margin" id="voc-ccr-table">
															<thead>
																<tr>
																	<th></th>
																	<th>Tools Used To Identify Customer Needs</th>
																	<th>QTY Used</th>
																	<th>Key Customer Issue(s)</th>
																	<th>Critical Customer Requirement</th>
																</tr>
															</thead>
															<tbody>
																<tr ng-repeat="d in vocCcrData" ng-show="!d.isDeleted">
																	<td style="text-align:center; width: 45px"><md-button class="md-fab md-warn md-fab-xxs" aria-label="delete" ng-click="deleteRow(vocCcrData,$index)"><span class="zmdi zmdi-close"></span></md-button></td>
																	<td contentEditable="true" ng-model="vocCcrData[$index].Tool" ng-bind-html="vocCcrData[$index].Tool"></td>
																	<td contentEditable="true" ng-model="vocCcrData[$index].Quantity" ng-bind-html="vocCcrData[$index].Quantity"></td>
																	<td contentEditable="true" ng-model="vocCcrData[$index].CustomerIssues" ng-bind-html="vocCcrData[$index].CustomerIssues"></td>
																	<td contentEditable="true" ng-model="vocCcrData[$index].CustomerRequirements" ng-bind-html="vocCcrData[$index].CustomerRequirements"></td>
																</tr>
																<tr><td colspan="5"><div layout="column"><button ui-wave type="button" class="btn btn-warning btn-w-md ui-wave" ng-click="addRow(vocCcrData,'voc_ccr')"><span class="ink wave-animate"></span>Add Row</button></div></td></tr>
															</tbody>
														</table>
													</div>
												</div>
											</div>
											<div class="row" style="margin-top:10px">
												<div class="col-sm-12">
													<md-button class="md-raised md-primary btn-w-md md-button md-ink-ripple pull-right" ng-transclude="" ng-click="submitVocCcr()"><span class="ng-scope">Save Changes</span><div class="md-ripple-container"></div></md-button>
													<md-button class="md-raised md-accent btn-w-md md-button md-ink-ripple pull-right" style="margin-right:10px;" ng-transclude="" ng-click="completePhaseComponent('Define','VOC & CCR')"><span class="ng-scope">{{(phaseDetail.VOC_n_CCR.Status != 'working') ? 'Mark Incomplete' : 'Mark Complete'}}</span><div class="md-ripple-container"></div></md-button>
												</div>
											</div>
										</div>
									</div>
								</uib-tab>
								<uib-tab heading="Risk Management" ng-click="activateTab(2)" active="activeTab[2]">
									<uib-tab-heading>
										<span>Risk Management</span>
										<div class="ui-ribbon-container ui-ribbon-success">
											<div class="ui-ribbon-wrapper" ng-show="phaseDetail.Risk_Management.Status != 'working'">
												<div class="ui-ribbon">
													<i class="fa fa-fw fa-check"></i>
												</div>
											</div>
										</div>
									</uib-tab-heading>
									<div class="row subphase-header">
										<div class="col-sm-12">
											<md-menu md-position-mode="target-right target" class="pull-right">
												<md-button aria-label="Open Menu" class="md-icon-button subphase-menu-button" ng-click="generateRiskManagementExportData();$mdOpenMenu($event)">
													<md-icon md-menu-origin><span class="fa fa-info-circle"></span></md-icon>
												</md-button>
												<md-menu-content width="2">
													<md-menu-item ng-show="!walkthroughs.risk_management"><md-button ng-click="showWalkthrough('risk_management', riskManagementData)"> <span md-menu-align-target>Show Walkthrough</span></md-button></md-menu-item>
													<md-menu-item ng-show="walkthroughs.risk_management"><md-button ng-click="hideWalkthrough('risk_management')"> <span md-menu-align-target>Skip Walkthrough</span></md-button></md-menu-item>
													<md-menu-item ng-show="!walkthroughs.risk_management">
														<a download="Risk_Management.xlsx" href="{{exportRiskManagementBlobLink}}" md-menu-align-target class="md-button md-ink-ripple">Export Data</a>
													</md-menu-item>
												</md-menu-content>
											</md-menu>
										</div>
									</div>
									<div class="row" ng-show="walkthroughs.risk_management">
										<div class="col-sm-12" data-phase-component="risk_management" style="text-align:center">
											<div class="l6_step" data-step-required="CategoryArea,SpecificRisk">
												<p class="lead">What category would this risk fall under, and what exactly is the risk?</p>
												<div layout layout-align="center" style="text-align:left">
													<md-input-container flex-gt-sm="50" flex="100">
														<label>Category</label>
														<input type="text" ng-blur="validateField($event, riskManagementData[riskManagementData.length - 1])" ng-model="riskManagementData[riskManagementData.length - 1].CategoryArea">
													</md-input-container>
												</div>
												<div layout layout-align="center" style="text-align:left">
													<md-input-container flex-gt-sm="80" flex="100">
														<label>Specific Risk</label>
														<textarea ng-blur="validateField($event, riskManagementData[riskManagementData.length - 1])" ng-model="riskManagementData[riskManagementData.length - 1].SpecificRisk"></textarea>
													</md-input-container>
												</div>
											</div>
											<div class="l6_step" data-step-required="Severity,Likelihood,Detectibility">
												<p class="lead">Now let's calculate the priority number of this risk...</p>
												<div layout layout-align="center" style="text-align:left">
													<md-input-container flex-gt-sm="33" flex="100">
														<label>Severity</label>
														<md-select ng-blur="validateField($event, riskManagementData[riskManagementData.length - 1])" ng-model="riskManagementData[riskManagementData.length - 1].Severity" aria-label="select">
															<md-option ng-repeat="c in [{val:'1',txt:'Low'},{val:'5',txt:'Med'},{val:'10',txt:'High'}]" value="{{c.val}}"> {{c.txt}} </md-option>
														</md-select>
													</md-input-container>
													<md-input-container flex-gt-sm="33" flex="100">
														<label>Likelihood</label>
														<md-select ng-blur="validateField($event, riskManagementData[riskManagementData.length - 1])" ng-model="riskManagementData[riskManagementData.length - 1].Likelihood" aria-label="select">
															<md-option ng-repeat="c in [{val:'1',txt:'Low'},{val:'5',txt:'Med'},{val:'10',txt:'High'}]" value="{{c.val}}"> {{c.txt}} </md-option>
														</md-select>
													</md-input-container>
													<md-input-container flex-gt-sm="33" flex="100">
														<label>Detectibility</label>
														<md-select ng-blur="validateField($event, riskManagementData[riskManagementData.length - 1])" ng-model="riskManagementData[riskManagementData.length - 1].Detectibility" aria-label="select">
															<md-option ng-repeat="c in [{val:'1',txt:'Low'},{val:'5',txt:'Med'},{val:'10',txt:'High'}]" value="{{c.val}}"> {{c.txt}} </md-option>
														</md-select>
													</md-input-container>
												</div>
											</div>
											<div class="l6_step" data-step-required="MitigationSteps">
												<p class="lead">The priority for this risk is: {{riskManagementData[riskManagementData.length - 1].Detectibility * riskManagementData[riskManagementData.length - 1].Likelihood * riskManagementData[riskManagementData.length - 1].Severity}}</p>
												<p class="lead">So how do you plan on mitigating this risk? What steps are you going to take?</p>
												<div layout layout-align="center" style="text-align:left">
													<md-input-container flex-gt-sm="80" flex="100">
														<label>Mitigation Step(s)</label>
														<textarea ng-blur="validateField($event, riskManagementData[riskManagementData.length - 1])" ng-model="riskManagementData[riskManagementData.length - 1].MitigationSteps"></textarea>
													</md-input-container>
												</div>
											</div>
											<div class="l6_step" data-step-required="PersonAccountable,DueDate">
												<p class="lead">Who will be accountable for managing this risk, and when is the deadline?</p>
												<div layout layout-align="center" style="text-align:left">
													<md-input-container flex-gt-sm="70" flex="100">
														<md-select ng-blur id="rm_cc_1" md-on-select="validateField('rm_cc_1', riskManagementData[riskManagementData.length - 1])" ng-model="riskManagementData[riskManagementData.length - 1].PersonAccountable" aria-label="select">
															<md-option ng-repeat="c in allContacts" value="{{c.id}}"><img class="user-select-img" ng-src="{{c.image}}" ng-show="c.image != ''"/> {{c.name + ((c.email) ? ' (' + c.email + ')' : '')}} </md-option>
														</md-select>
													</md-input-container>
												</div>
												<div layout layout-align="center" style="text-align:left">
													<md-datepicker id="rm_dp_1" ng-change="validateField('rm_dp_1', riskManagementData[riskManagementData.length - 1])" ng-model="riskManagementData[riskManagementData.length - 1].DueDate" md-placeholder="Due Date"></md-datepicker>
												</div>
											</div>
											<div class="l6_step">
												<p class="lead">Lastly, what is your contingency plan if all else fails?</p>
												<div layout layout-align="center" style="text-align:left">
													<md-input-container flex-gt-sm="80" flex="100">
														<label>Contingency Plan</label>
														<textarea ng-blur="validateField($event, riskManagementData[riskManagementData.length - 1])" ng-model="riskManagementData[riskManagementData.length - 1].ContingencyPlan" aria-label="Contingency plan"></textarea>
													</md-input-container>
												</div>
												<div class="divider"></div>
											</div>
											<div class="l6_step_submit" ng-if="walkthroughShouldShowSubmit()">
												<md-button class="md-raised btn-w-md md-primary" ng-click="hideWalkthrough('risk_management')">Submit</md-button>
											</div>
											<div class="l6_step_next" ng-if="walkthroughShouldShowNext()">
												<md-button class="btn-next-step md-raised md-accent btn-w-md" ng-click="goToNextStep()">Next Step <i class="fa fa-fw fa-angle-right"></i></md-button>
											</div>
										</div>
									</div>
									<div class="row" ng-show="!walkthroughs.risk_management">
										<div class="col-sm-12">
											<div class="row">
												<div class="col-sm-12">
													<div class="table-responsive">
														<table class="table table-striped table-bordered no-margin" id="risk-management-table">
															<thead>
																<tr>
																	<th></th>
																	<th>Date Entered</th>
																	<th>Category Area</th>
																	<th style="min-width: 200px">Specific Risk</th>
																	<th>Severity</th>
																	<th>Likelihood</th>
																	<th>Detectibility</th>
																	<th>Risk Priority</th>
																	<th style="min-width: 200px">Mitigation Step(s)</th>
																	<th>Person Accountable</th>
																	<th>Due Date</th>
																	<th style="min-width: 200px">Contingency/Backup Plan</th>
																</tr>
															</thead>
															<tbody>
																<tr ng-repeat="d in riskManagementData" ng-show="!d.isDeleted">
																	<td style="text-align:center; width: 45px"><md-button class="md-fab md-warn md-fab-xxs" aria-label="delete" ng-click="deleteRow(riskManagementData,$index)"><span class="zmdi zmdi-close"></span></md-button></td>
																	<td contentEditable="true" ng-model="riskManagementData[$index].DateEntered" ng-bind-html="riskManagementData[$index].DateEntered"></td>
																	<td contentEditable="true" ng-model="riskManagementData[$index].CategoryArea" ng-bind-html="riskManagementData[$index].CategoryArea"></td>
																	<td contentEditable="true" ng-model="riskManagementData[$index].SpecificRisk" ng-bind-html="riskManagementData[$index].SpecificRisk"></td>
																	<td>
																		<md-input-container class="full-width" style="margin:0;">
																			<md-select ng-model="riskManagementData[$index].Severity" aria-label="select">
																				<md-option ng-repeat="c in [{val:'1',txt:'Low'},{val:'5',txt:'Med'},{val:'10',txt:'High'}]" value="{{c.val}}"> {{c.txt}} </md-option>
																			</md-select>
																		</md-input-container>
																	</td>
																	<td>
																		<md-input-container class="full-width" style="margin:0;">
																			<md-select ng-model="riskManagementData[$index].Likelihood" aria-label="select">
																				<md-option ng-repeat="c in [{val:'1',txt:'Low'},{val:'5',txt:'Med'},{val:'10',txt:'High'}]" value="{{c.val}}"> {{c.txt}} </md-option>
																			</md-select>
																		</md-input-container>
																	</td>
																	<td>
																		<md-input-container class="full-width" style="margin:0;">
																			<md-select ng-model="riskManagementData[$index].Detectibility" aria-label="select">
																				<md-option ng-repeat="c in [{val:'1',txt:'Low'},{val:'5',txt:'Med'},{val:'10',txt:'High'}]" value="{{c.val}}"> {{c.txt}} </md-option>
																			</md-select>
																		</md-input-container>
																	</td>
																	<td>{{d.Severity * d.Likelihood * d.Detectibility}}</td>
																	<td contentEditable="true" ng-model="riskManagementData[$index].MitigationSteps" ng-bind-html="riskManagementData[$index].MitigationSteps"></td>
																	<td>
																		<md-input-container class="full-width" style="margin:0;">
																			<md-select user-select ng-model="riskManagementData[$index].PersonAccountable" aria-label="select">
																				<md-option ng-repeat="c in allContacts" value="{{c.id}}"><img class="user-select-img" ng-src="{{c.image}}" ng-show="c.image != ''"/> {{c.name + ((c.email) ? ' (' + c.email + ')' : '')}} </md-option>
																			</md-select>
																		</md-input-container>
																	</td>
																	<td><md-datepicker ng-model="riskManagementData[$index].DueDate"></md-datepicker></td>
																	<td contentEditable="true" ng-model="riskManagementData[$index].ContingencyPlan" ng-bind-html="riskManagementData[$index].ContingencyPlan"></td>
																</tr>
																<tr><td colspan="12"><div layout="column"><button ui-wave type="button" class="btn btn-warning btn-w-md ui-wave" ng-click="addRow(riskManagementData,'risk_management')"><span class="ink wave-animate"></span>Add Row</button></div></td></tr>
															</tbody>
														</table>
													</div>
												</div>
											</div>
											<div class="row" style="margin-top:10px">
												<div class="col-sm-12">
													<md-button class="md-raised md-primary btn-w-md md-button md-ink-ripple pull-right" ng-transclude="" ng-click="submitRiskManagement()"><span class="ng-scope">Save Changes</span><div class="md-ripple-container"></div></md-button>
													<md-button class="md-raised md-accent btn-w-md md-button md-ink-ripple pull-right" style="margin-right:10px;" ng-transclude="" ng-click="completePhaseComponent('Define','Risk Management')"><span class="ng-scope">{{(phaseDetail.Risk_Management.Status != 'working') ? 'Mark Incomplete' : 'Mark Complete'}}</span><div class="md-ripple-container"></div></md-button>
												</div>
											</div>
										</div>
									</div>
								</uib-tab>
								<uib-tab ng-click="activateTab(3)" active="activeTab[3]">
									<uib-tab-heading>
										<span>RACI</span>
										<div class="ui-ribbon-container ui-ribbon-success">
											<div class="ui-ribbon-wrapper" ng-show="phaseDetail.RACI.Status != 'working'">
												<div class="ui-ribbon">
													<i class="fa fa-fw fa-check"></i>
												</div>
											</div>
										</div>
									</uib-tab-heading>
									<div class="row subphase-header">
										<div class="col-sm-12">
											<md-menu md-position-mode="target-right target" class="pull-right">
												<md-button aria-label="Open Menu" class="md-icon-button subphase-menu-button" ng-click="generateRACIExportData();$mdOpenMenu($event)">
													<md-icon md-menu-origin><span class="fa fa-info-circle"></span></md-icon>
												</md-button>
												<md-menu-content width="2">
													<md-menu-item ng-show="!walkthroughs.raci"><md-button ng-click="showRACIWalkthrough()"> <span md-menu-align-target>Show Walkthrough</span></md-button></md-menu-item>
													<md-menu-item ng-show="walkthroughs.raci"><md-button ng-click="hideWalkthrough('raci')"> <span md-menu-align-target>Skip Walkthrough</span></md-button></md-menu-item>
													<md-menu-item ng-show="!walkthroughs.raci">
														<!-- <md-button ng-click="exportData('DefineRaci','RACI')"> <span md-menu-align-target>Export Data</span></md-button> -->
														<a download="RACI.xlsx" href="{{exportRACIBlobLink}}" md-menu-align-target class="md-button md-ink-ripple">Export Data</a>
													</md-menu-item>
												</md-menu-content>
											</md-menu>
										</div>
									</div>
									<div class="row" ng-show="walkthroughs.raci">
										<div class="col-sm-12" data-phase-component="raci" style="text-align:center">
											<div class="l6_step" data-step-required="activity">
												<p class="lead">What process objective (activity/task) would you like to assess?</p>
												<div layout layout-align="center" style="text-align:left">
													<md-input-container flex-gt-sm="50" flex="100">
														<label>Category</label>
														<input type="text" ng-blur="validateField($event, raciWalkthroughData)" ng-model="raciWalkthroughData.activity">
													</md-input-container>
												</div>
											</div>
											<div class="l6_step" data-step-required="owner">
												<p class="lead">Who is a key player in analyzing that activity?</p>
												<div layout layout-align="center" style="text-align:left">
													<md-input-container flex-gt-sm="50" flex="100">
														<label>First/Last Name </label>
														<input type="text" ng-blur="validateField($event, raciWalkthroughData)" ng-model="raciWalkthroughData.owner">
													</md-input-container>
												</div>
											</div>
											<div class="l6_step" data-step-required="responsibility">
												<p class="lead">Great! So what type of responsibility will {{(raciWalkthroughData.owner) ? raciWalkthroughData.owner : 'He/She'}} have?</p>
												<div layout layout-align="center" style="text-align:left">
													<md-input-container flex-gt-sm="80" flex="100">
														<label>Responsibility Level</label>
														<md-select ng-blur="validateField($event, raciWalkthroughData)" ng-model="raciWalkthroughData.responsibility" aria-label="select">
															<md-option ng-repeat="c in [{val:'R',txt:'Responsible'},{val:'A',txt:'Accountable'},{val:'C',txt:'Consulted'},{val:'I',txt:'Informed'}]" value="{{c.val}}"> {{c.txt}} </md-option>
														</md-select>
													</md-input-container>
												</div>
											</div>
											<div class="l6_step_submit" ng-if="walkthroughShouldShowSubmit()">
												<md-button class="md-raised btn-w-md md-primary" ng-click="submitRACIWalkthrough()">Submit</md-button>
											</div>
											<div class="l6_step_next" ng-if="walkthroughShouldShowNext()">
												<md-button class="btn-next-step md-raised md-accent btn-w-md" ng-click="goToNextStep()">Next Step <i class="fa fa-fw fa-angle-right"></i></md-button>
											</div>
										</div>
									</div>
									<div class="row" ng-show="!walkthroughs.raci">
										<div class="col-sm-12">
											<div class="row">
												<div class="col-sm-12">
													<div class="table-responsive">
														<table class="table table-striped table-bordered no-margin" id="raci-table">
															<thead>
																<tr>
																	<th colspan="2"></th>
																	<th ng-repeat="o in raciOwners" style="text-align:center">
																		<md-button class="md-fab md-warn md-fab-xxs" aria-label="delete" ng-click="deleteRaciCol($index)"><span class="zmdi zmdi-close"></span></md-button>
																	</th>
																</tr>
																<tr>
																	<th></th>
																	<th>Activity</th>
																	<th ng-repeat="o in raciOwners" contentEditable="true" ng-model="raciOwners[$index]" ng-bind-html="raciOwners[$index]"></th>
																	<th style="width:40px"><button ui-wave type="button" class="btn btn-warning ui-wave" ng-click="addRACIColumn()"><span class="ink wave-animate"></span>+</button></th>
																</tr>
															</thead>
															<tbody>
																<tr ng-repeat="(action, rvals) in RACIData" ng-show="!RACIData[action].isDeleted">
																	<td style="text-align:center; width: 45px"><md-button class="md-fab md-warn md-fab-xxs" aria-label="delete" ng-click="deleteRaciRow(action)"><span class="zmdi zmdi-close"></span></md-button></td>
																	<td contentEditable="true" ng-model="RACIData[action].label">{{action}}</td>
																	<td ng-repeat="val in rvals.data track by $index" contentEditable="true" ng-model="RACIData[action].data[$index]" ng-bind-html="RACIData[action].data[$index]"></td>
																</tr>
																<tr><td colspan="{{raciOwners.length + 2}}"><div layout="column"><button ui-wave type="button" class="btn btn-warning btn-w-md ui-wave" ng-click="addRACILine()"><span class="ink wave-animate"></span>Add Row</button></div></td></tr>
															</tbody>
														</table>
													</div>
												</div>
											</div>
											<div class="row">
												<div class="col-sm-12" style="margin-top:10px">
													<md-button class="md-raised md-primary btn-w-md md-button md-ink-ripple pull-right" ng-transclude="" ng-click="submitRACI()"><span class="ng-scope">Save Changes</span><div class="md-ripple-container"></div></md-button>
													<md-button class="md-raised md-accent btn-w-md md-button md-ink-ripple pull-right" style="margin-right:10px;" ng-transclude="" ng-click="completePhaseComponent('Define','RACI')"><span class="ng-scope">{{(phaseDetail.RACI.Status != 'working') ? 'Mark Incomplete' : 'Mark Complete'}}</span><div class="md-ripple-container"></div></md-button>
												</div>
											</div>
										</div>
									</div>
								</uib-tab>
								<uib-tab ng-click="activateTab(4)" active="activeTab[4]">
									<uib-tab-heading>
										<span>Stakeholders</span>
										<div class="ui-ribbon-container ui-ribbon-success">
											<div class="ui-ribbon-wrapper" ng-show="phaseDetail.Stakeholders.Status != 'working'">
												<div class="ui-ribbon">
													<i class="fa fa-fw fa-check"></i>
												</div>
											</div>
										</div>
									</uib-tab-heading>
									<div class="row subphase-header">
										<div class="col-sm-12">
											<md-menu md-position-mode="target-right target" class="pull-right">
												<md-button aria-label="Open Menu" class="md-icon-button subphase-menu-button" ng-click="generateStakeholdersExportData();$mdOpenMenu($event)">
													<md-icon md-menu-origin><span class="fa fa-info-circle"></span></md-icon>
												</md-button>
												<md-menu-content width="2">
													<md-menu-item ng-show="!walkthroughs.stakeholders"><md-button ng-click="showWalkthrough('stakeholders',stakeholderData)"> <span md-menu-align-target>Show Walkthrough</span></md-button></md-menu-item>
													<md-menu-item ng-show="walkthroughs.stakeholders"><md-button ng-click="hideWalkthrough('stakeholders')"> <span md-menu-align-target>Skip Walkthrough</span></md-button></md-menu-item>
													<md-menu-item ng-show="!walkthroughs.stakeholders">
														<a download="Stakeholders.xlsx" href="{{exportStakeholdersBlobLink}}" md-menu-align-target class="md-button md-ink-ripple">Export Data</a>
													</md-menu-item>
												</md-menu-content>
											</md-menu>
										</div>
									</div>
									<div class="row" ng-show="walkthroughs.stakeholders">
										<div class="col-sm-12" data-phase-component="stakeholders" style="text-align:center">
											<div class="l6_step" data-step-required="UserId">
												<p class="lead">Let's start by picking one person who might be impacted by this project...</p>
												<div layout layout-align="center" style="text-align:left">
													<md-input-container flex-gt-sm="60" flex="100">
														<label>Stakeholder Name</label>
														<md-select user-select ng-blur="validateField($event, stakeholderData[stakeholderData.length - 1])" ng-model="stakeholderData[stakeholderData.length - 1].UserId" aria-label="select">
															<md-option ng-repeat="c in allContacts" value="{{c.id}}"><img class="user-select-img" ng-src="{{c.image}}" ng-show="c.image != ''"/> {{c.name + ((c.email) ? ' (' + c.email + ')' : '')}} </md-option>
														</md-select>
													</md-input-container>
												</div>
											</div>
											<div class="l6_step" data-step-required="SupportCategory">
												<p class="lead">How would you categorize this individual's support/resistance?</p>
												<div layout layout-align="center" style="text-align:left">
													<md-input-container flex-gt-sm="60" flex="100">
														<label>Resistance Category</label>
														<md-select user-select ng-blur="validateField($event, stakeholderData[stakeholderData.length - 1])" ng-model="stakeholderData[stakeholderData.length - 1].SupportCategory" aria-label="select">
															<md-option ng-repeat="c in ['Neutral','Moderately Supportive','Stongly Supportive','Moderately Against','Strongly Against']" value="{{c}}">{{c}}</md-option>
														</md-select>
													</md-input-container>
												</div>
											</div>
											<div class="l6_step">
												<p class="lead">What level of support/resistance will this individual have, and what type?</p>
												<div layout layout-align="center" style="text-align:left">
													<md-input-container flex-gt-sm="50" flex="100">
														<label>Resistance Type</label>
														<md-select user-select ng-model="stakeholderData[stakeholderData.length - 1].ResistanceType" aria-label="select">
															<md-option ng-repeat="c in ['','Tehnical','Political','Cultural']" value="{{c}}">{{c}}</md-option>
														</md-select>
													</md-input-container>
													<md-input-container flex-gt-sm="50" flex="100">
														<label>Resistance Level</label>
														<md-select user-select ng-blur="validateField($event, stakeholderData[stakeholderData.length - 1])" ng-model="stakeholderData[stakeholderData.length - 1].ResistanceLevel" aria-label="select">
															<md-option ng-repeat="c in ['','Low','Medium','High']" value="{{c}}">{{c}}</md-option>
														</md-select>
													</md-input-container>
												</div>
											</div>
											<div class="l6_step">
												<p class="lead">Now, if in fact this stakeholder does not completely support the project, how do you plan on dealing with the resistance?</p>
												<div layout layout-align="center" style="text-align:left">
													<md-input-container flex-gt-sm="80" flex="100">
														<label>Contingency Plan</label>
														<textarea ng-blur="validateField($event, stakeholderData[stakeholderData.length - 1])" ng-model="stakeholderData[stakeholderData.length - 1].ResistanceStrategy" aria-label="Contingency plan"></textarea>
													</md-input-container>
												</div>
											</div>
											<div class="l6_step_submit" ng-if="walkthroughShouldShowSubmit()">
												<md-button class="md-raised btn-w-md md-primary" ng-click="hideWalkthrough('stakeholders')">Submit</md-button>
											</div>
											<div class="l6_step_next" ng-if="walkthroughShouldShowNext()">
												<md-button class="btn-next-step md-raised md-accent btn-w-md" ng-click="goToNextStep()">Next Step <i class="fa fa-fw fa-angle-right"></i></md-button>
											</div>
										</div>
									</div>
									<div class="row" ng-show="!walkthroughs.stakeholders">
										<div class="col-sm-12">
											<div class="row">
												<div class="col-sm-12">
													<div class="table-responsive">
														<table class="table table-striped table-bordered no-margin" id="stakeholders-table">
															<thead>
																<tr>
																	<th></th>
																	<th>Name</th>
																	<th>Resistance Category</th>
																	<th>Type Of Resistance</th>
																	<th>Level Of Resistance</th>
																	<th style="min-width:200px;">Strategy For Dealing With Resistance</th>
																</tr>
															</thead>
															<tbody>
																<tr ng-repeat="s in stakeholderData" ng-show="!s.isDeleted">
																	<td style="text-align:center; width: 45px"><md-button class="md-fab md-warn md-fab-xxs" aria-label="delete" ng-click="deleteRow(stakeholderData,$index)"><span class="zmdi zmdi-close"></span></md-button></td>
																	<td>
																		<md-input-container class="full-width" style="margin:0;">
																			<md-select user-select ng-model="stakeholderData[$index].UserId" aria-label="select">
																				<md-option ng-repeat="c in allContacts" value="{{c.id}}"><img class="user-select-img" ng-src="{{c.image}}" ng-show="c.image != ''"/> {{c.name + ((c.email) ? ' (' + c.email + ')' : '')}} </md-option>
																			</md-select>
																		</md-input-container>
																	</td>
																	<td>
																		<md-input-container class="full-width" style="margin:0;">
																			<md-select user-select ng-model="stakeholderData[$index].SupportCategory" aria-label="select">
																				<md-option ng-repeat="c in ['Neutral','Moderately Supportive','Stongly Supportive','Moderately Against','Strongly Against']" value="{{c}}">{{c}}</md-option>
																			</md-select>
																		</md-input-container>
																	</td>
																	<td>
																		<md-input-container class="full-width" style="margin:0;">
																			<md-select user-select ng-model="stakeholderData[$index].ResistanceType" aria-label="select">
																				<md-option ng-repeat="c in ['','Tehnical','Political','Cultural']" value="{{c}}">{{c}}</md-option>
																			</md-select>
																		</md-input-container>
																	</td>
																	<td>
																		<md-input-container class="full-width" style="margin:0;">
																			<md-select user-select ng-model="stakeholderData[$index].ResistanceLevel" aria-label="select">
																				<md-option ng-repeat="c in ['','Low','Medium','High']" value="{{c}}">{{c}}</md-option>
																			</md-select>
																		</md-input-container>
																	</td>
																	<td contentEditable="true" ng-model="stakeholderData[$index].ResistanceStrategy" ng-bind-html="stakeholderData[$index].ResistanceStrategy"></td>
																</tr>
																<tr><td colspan="6"><div layout="column"><button ui-wave type="button" class="btn btn-warning btn-w-md ui-wave" ng-click="addRow(stakeholderData,'stakeholders')"><span class="ink wave-animate"></span>Add Row</button></div></td></tr>
															</tbody>
														</table>
													</div>
												</div>
											</div>
											<div class="row">
												<div class="col-sm-12" style="margin-top:10px">
													<md-button class="md-raised md-primary btn-w-md md-button md-ink-ripple pull-right" ng-transclude="" ng-click="submitStakeholders()"><span class="ng-scope">Save Changes</span><div class="md-ripple-container"></div></md-button>
													<md-button class="md-raised md-accent btn-w-md md-button md-ink-ripple pull-right" style="margin-right:10px;" ng-transclude="" ng-click="completePhaseComponent('Define','Stakeholders')"><span class="ng-scope">{{(phaseDetail.Stakeholders.Status != 'working') ? 'Mark Incomplete' : 'Mark Complete'}}</span><div class="md-ripple-container"></div></md-button>
												</div>
											</div>
										</div>
									</div>
								</uib-tab>
								<uib-tab ng-click="activateTab(5)" active="activeTab[5]">
									<uib-tab-heading>
										<span>SIPOC</span>
										<div class="ui-ribbon-container ui-ribbon-success">
											<div class="ui-ribbon-wrapper" ng-show="phaseDetail.SIPOC.Status != 'working'">
												<div class="ui-ribbon">
													<i class="fa fa-fw fa-check"></i>
												</div>
											</div>
										</div>
									</uib-tab-heading>
									<div class="row subphase-header">
										<div class="col-sm-12">
											<md-menu md-position-mode="target-right target" class="pull-right">
												<md-button aria-label="Open Menu" class="md-icon-button subphase-menu-button" ng-click="generateSipocExportData();$mdOpenMenu($event)">
													<md-icon md-menu-origin><span class="fa fa-info-circle"></span></md-icon>
												</md-button>
												<md-menu-content width="2">
													<md-menu-item>
														<a download="SIPOC.xlsx" href="{{exportSipocBlobLink}}" md-menu-align-target class="md-button md-ink-ripple">Export Data</a>
													</md-menu-item>
												</md-menu-content>
											</md-menu>
										</div>
									</div>
									<div class="row">
										<div class="col-sm-12">
											<div class="table-responsive">
												<table class="table table-striped table-bordered no-margin">
													<thead>
														<tr>
															<th></th>
															<th>Suppliers</th>
															<th>Inputs</th>
															<th>Processes</th>
															<th>Outputs</th>
															<th>Customers</th>
														</tr>
													</thead>
													<tbody>
														<tr ng-repeat="s in sipocData" ng-show="!s.isDeleted">
															<td style="text-align:center; width: 45px"><md-button class="md-fab md-warn md-fab-xxs" aria-label="delete" ng-click="deleteRow(sipocData,$index)"><span class="zmdi zmdi-close"></span></md-button></td>
															<td contentEditable="true" ng-model="sipocData[$index].Suppliers" ng-bind-html="sipocData[$index].Suppliers"></td>
															<td contentEditable="true" ng-model="sipocData[$index].Inputs" ng-bind-html="sipocData[$index].Inputs"></td>
															<td contentEditable="true" ng-model="sipocData[$index].Processes" ng-bind-html="sipocData[$index].Processes"></td>
															<td contentEditable="true" ng-model="sipocData[$index].Outputs" ng-bind-html="sipocData[$index].Outputs"></td>
															<td contentEditable="true" ng-model="sipocData[$index].Customers" ng-bind-html="sipocData[$index].Customers"></td>
														</tr>
														<tr><td colspan="6"><div layout="column"><button ui-wave type="button" class="btn btn-warning btn-w-md ui-wave" ng-click="addRow(sipocData,'sipoc')"><span class="ink wave-animate"></span>Add Row</button></div></td></tr>
													</tbody>
												</table>
												<table class="table table-striped table-bordered no-margin">
													<thead>
														<tr>
															<th></th>
															<th>Process Measures</th>
															<th>Output Measures</th>
														</tr>
													</thead>
													<tbody>
														<tr ng-repeat="s in sipocData" ng-show="!s.isDeleted">
															<td style="text-align:center; width: 45px"><md-button class="md-fab md-warn md-fab-xxs" aria-label="delete" ng-click="deleteRow(sipocData,$index)"><span class="zmdi zmdi-close"></span></md-button></td>
															<td contentEditable="true" ng-model="sipocData[$index].ProcessMeasures" ng-bind-html="sipocData[$index].ProcessMeasures"></td>
															<td contentEditable="true" ng-model="sipocData[$index].OutputMeasures" ng-bind-html="sipocData[$index].OutputMeasures"></td>
														</tr>
														<tr><td colspan="3"><div layout="column"><button ui-wave type="button" class="btn btn-warning btn-w-md ui-wave" ng-click="addSipocRow()"><span class="ink wave-animate"></span>Add Row</button></div></td></tr>
													</tbody>
												</table>
											</div>
										</div>
									</div>
									<div class="row">
										<div class="col-sm-12" style="margin-top:10px">
											<md-button class="md-raised md-primary btn-w-md md-button md-ink-ripple pull-right" ng-transclude="" ng-click="submitSipoc()"><span class="ng-scope">Save Changes</span><div class="md-ripple-container"></div></md-button>
											<md-button class="md-raised md-accent btn-w-md md-button md-ink-ripple pull-right" style="margin-right:10px;" ng-transclude="" ng-click="completePhaseComponent('Define','SIPOC')"><span class="ng-scope">{{(phaseDetail.SIPOC.Status != 'working') ? 'Mark Incomplete' : 'Mark Complete'}}</span><div class="md-ripple-container"></div></md-button>
										</div>
									</div>
								</uib-tab>
								<uib-tab ng-show="hasValueStreamDiagram" ng-click="activateTab(6)" active="activeTab[6]">
									<uib-tab-heading>
										<span>Value Stream Diagram</span>
										<div class="ui-ribbon-container ui-ribbon-success">
											<div class="ui-ribbon-wrapper" ng-show="phaseDetail.Value_Stream_Diagram.Status != 'working'">
												<div class="ui-ribbon">
													<i class="fa fa-fw fa-check"></i>
												</div>
											</div>
										</div>
									</uib-tab-heading>
									<div class="row">
										<div class="col-sm-12">
											<div class="img-full" ng-bind-html="defineValueStreamDiagram"></div>
										</div>
									</div>
									<div class="row">
										<div class="col-sm-12">
											<md-button class="md-raised md-primary btn-w-md md-button md-ink-ripple pull-right" ng-transclude="" ng-click="goToSvgEditor()"><span class="ng-scope">Edit</span><div class="md-ripple-container"></div></md-button>
											<md-button class="md-raised md-accent btn-w-md md-button md-ink-ripple pull-right" style="margin-right:10px;" ng-transclude="" ng-click="completePhaseComponent('Define','Value Stream Diagram')"><span class="ng-scope">{{(phaseDetail.Value_Stream_Diagram.Status != 'working') ? 'Mark Incomplete' : 'Mark Complete'}}</span><div class="md-ripple-container"></div></md-button>
										</div>
									</div>
								</uib-tab>
								<uib-tab heading="Value Stream Diagram" ng-click="goToSvgEditor()" ng-show="!hasValueStreamDiagram"></uib-tab>
								<uib-tab ng-click="activateTab(7)" active="activeTab[7]">
									<uib-tab-heading>
										<span>Communication</span>
										<div class="ui-ribbon-container ui-ribbon-success">
											<div class="ui-ribbon-wrapper" ng-show="phaseDetail.Communication.Status != 'working'">
												<div class="ui-ribbon">
													<i class="fa fa-fw fa-check"></i>
												</div>
											</div>
										</div>
									</uib-tab-heading>
									<div class="row subphase-header">
										<div class="col-sm-12">
											<md-menu md-position-mode="target-right target" class="pull-right">
												<md-button aria-label="Open Menu" class="md-icon-button subphase-menu-button" ng-click="generateCommunicationExportData();$mdOpenMenu($event)">
													<md-icon md-menu-origin><span class="fa fa-info-circle"></span></md-icon>
												</md-button>
												<md-menu-content width="2">
													<md-menu-item ng-show="!walkthroughs.communication"><md-button ng-click="showWalkthrough('communication',communicationData)"> <span md-menu-align-target>Show Walkthrough</span></md-button></md-menu-item>
													<md-menu-item ng-show="walkthroughs.communication"><md-button ng-click="hideWalkthrough('communication')"> <span md-menu-align-target>Skip Walkthrough</span></md-button></md-menu-item>
													<md-menu-item ng-show="!walkthroughs.communication">
														<!-- <md-button ng-click=""> <span md-menu-align-target>Export Data</span></md-button> -->
														<a download="Communication.xlsx" href="{{exportCommunicationBlobLink}}" md-menu-align-target class="md-button md-ink-ripple">Export Data</a>
													</md-menu-item>
												</md-menu-content>
											</md-menu>
										</div>
									</div>
									<div class="row" ng-show="walkthroughs.communication">
										<div class="col-sm-12" data-phase-component="communication" style="text-align:center">
											<p style="font-weight:100; font-size:3em; margin-bottom:20px">Let's Communicate!</p>
											<div class="l6_step" data-step-required="Media">
												<p class="lead">What will be your method of communication? How? What media? Location?</p>
												<div layout layout-align="center" style="text-align:left">
													<md-input-container flex-gt-sm="80" flex="100">
														<label>Communication Method/Media</label>
														<textarea ng-blur="validateField($event, communicationData[communicationData.length - 1])" ng-model="communicationData[communicationData.length - 1].Media" aria-label="Media"></textarea>
													</md-input-container>
												</div>
											</div>
											<div class="l6_step" data-step-required="Purpose">
												<p class="lead">What is the purpose of this communication?<br/>Include any topics/key messages...</p>
												<div layout layout-align="center" style="text-align:left">
													<md-input-container flex-gt-sm="80" flex="100">
														<label>Purpose</label>
														<textarea ng-blur="validateField($event, communicationData[communicationData.length - 1])" ng-model="communicationData[communicationData.length - 1].Purpose" aria-label="Purpose"></textarea>
													</md-input-container>
												</div>
											</div>
											<div class="l6_step" data-step-required="Owner">
												<p class="lead">Who can we bug about getting this communication out?<br/>Who's the responsible party?</p>
												<div layout layout-align="center" style="text-align:left">
													<md-input-container flex-gt-sm="80" flex="100">
														<md-select user-select ng-blur="validateField($event, communicationData[communicationData.length - 1])" ng-model="communicationData[communicationData.length - 1].Owner" aria-label="select">
															<md-option ng-repeat="c in allContacts" value="{{c.id}}"><img class="user-select-img" ng-src="{{c.image}}" ng-show="c.image != ''"/> {{c.name + ((c.email) ? ' (' + c.email + ')' : '')}} </md-option>
														</md-select>
													</md-input-container>
												</div>
											</div>
											<div class="l6_step">
												<p class="lead" style="text-align: center">Lastly, how often do you intend to send this communication (Once/Recurring)?<br/>On what day of the week/time of day (Tuesdays @ 5:30PM)?<br/>How long will you keep this communication up (2 Weeks/Project Completion)?</p>
												<div layout layout-align="center" style="text-align:left">
													<md-input-container flex-gt-sm="33" flex="100">
														<label>Frequency</label>
														<input type="text" ng-model="communicationData[communicationData.length - 1].Frequency" ng-blur="validateField($event, communicationData[communicationData.length - 1])">
													</md-input-container>
													<md-input-container flex-gt-sm="33" flex="100">
														<label>Day/Date/Time</label>
														<input type="text" ng-model="communicationData[communicationData.length - 1].DayTime" ng-blur="validateField($event, communicationData[communicationData.length - 1])">
													</md-input-container>
													<md-input-container flex-gt-sm="33" flex="100">
														<label>Duration</label>
														<input type="text" ng-model="communicationData[communicationData.length - 1].Length" ng-blur="validateField($event, communicationData[communicationData.length - 1])">
													</md-input-container>
												</div>
											</div>
											<div class="l6_step_submit" ng-if="walkthroughShouldShowSubmit()">
												<md-button class="md-raised btn-w-md md-primary" ng-click="hideWalkthrough('communication')">Submit</md-button>
											</div>
											<div class="l6_step_next" ng-if="walkthroughShouldShowNext()">
												<md-button class="btn-next-step md-raised md-accent btn-w-md" ng-click="goToNextStep()">Next Step <i class="fa fa-fw fa-angle-right"></i></md-button>
											</div>
										</div>
									</div>
									<div class="row" ng-show="!walkthroughs.communication">
										<div class="col-sm-12">
											<div class="row">
												<div class="col-sm-12">
													<div class="table-responsive">
														<table class="table table-striped table-bordered no-margin" id="communication-table">
															<thead>
																<tr>
																	<th></th>
																	<th>How/Media/Location</th>
																	<th>Purpose/Topics/Key Messages</th>
																	<th>Owner</th>
																	<th>Frequency</th>
																	<th>Day/Time</th>
																	<th>How Long/Length</th>
																</tr>
															</thead>
															<tbody>
																<tr ng-repeat="s in communicationData" ng-show="!s.isDeleted">
																	<td style="text-align:center; width: 45px"><md-button class="md-fab md-warn md-fab-xxs" aria-label="delete" ng-click="deleteRow(communicationData,$index)"><span class="zmdi zmdi-close"></span></md-button></td>
																	<td contentEditable="true" ng-model="communicationData[$index].Media" ng-bind-html="communicationData[$index].Media"></td>
																	<td contentEditable="true" ng-model="communicationData[$index].Purpose" ng-bind-html="communicationData[$index].Purpose"></td>
																	<td>
																		<md-input-container class="full-width" style="margin:0;">
																			<md-select user-select ng-model="communicationData[$index].Owner" aria-label="select">
																				<md-option ng-repeat="c in allContacts" value="{{c.id}}"><img class="user-select-img" ng-src="{{c.image}}" ng-show="c.image != ''"/> {{c.name + ((c.email) ? ' (' + c.email + ')' : '')}} </md-option>
																			</md-select>
																		</md-input-container>
																	</td>
																	<td contentEditable="true" ng-model="communicationData[$index].Frequency" ng-bind-html="communicationData[$index].Frequency"></td>
																	<td contentEditable="true" ng-model="communicationData[$index].DayTime" ng-bind-html="communicationData[$index].DayTime"></td>
																	<td contentEditable="true" ng-model="communicationData[$index].Length" ng-bind-html="communicationData[$index].Length"></td>
																</tr>
																<tr><td colspan="7"><div layout="column"><button ui-wave type="button" class="btn btn-warning btn-w-md ui-wave" ng-click="addRow(communicationData,'communication')"><span class="ink wave-animate"></span>Add Row</button></div></td></tr>
															</tbody>
														</table>
													</div>
												</div>
											</div>
											<div class="row">
												<div class="col-sm-12" style="margin-top:10px">
													<md-button class="md-raised md-primary btn-w-md md-button md-ink-ripple pull-right" ng-transclude="" ng-click="submitCommunication()"><span class="ng-scope">Save Changes</span><div class="md-ripple-container"></div></md-button>
													<md-button class="md-raised md-accent btn-w-md md-button md-ink-ripple pull-right" style="margin-right:10px;" ng-transclude="" ng-click="completePhaseComponent('Define','Communication')"><span class="ng-scope">{{(phaseDetail.Communication.Status != 'working') ? 'Mark Incomplete' : 'Mark Complete'}}</span><div class="md-ripple-container"></div></md-button>
												</div>
											</div>
										</div>
									</div>
								</uib-tab>
								<uib-tab ng-click="activateTab(8)" active="activeTab[8]">
									<uib-tab-heading>
										<span>Gate Review</span>
										<div class="ui-ribbon-container ui-ribbon-success">
											<div class="ui-ribbon-wrapper" ng-show="phaseDetail.Gate_Review.Status != 'working'">
												<div class="ui-ribbon">
													<i class="fa fa-fw fa-check"></i>
												</div>
											</div>
										</div>
									</uib-tab-heading>
									<div class="row subphase-header">
										<div class="col-sm-12">
											<md-menu md-position-mode="target-right target" class="pull-right">
												<md-button aria-label="Open Menu" class="md-icon-button subphase-menu-button" ng-click="generateGateReviewExportData();$mdOpenMenu($event)">
													<md-icon md-menu-origin><span class="fa fa-info-circle"></span></md-icon>
												</md-button>
												<md-menu-content width="2">
													<md-menu-item>
														<a download="Gate_Review.xlsx" href="{{exportGateReviewBlobLink}}" md-menu-align-target class="md-button md-ink-ripple">Export Data</a>
													</md-menu-item>
												</md-menu-content>
											</md-menu>
										</div>
									</div>
									<div class="row" id="gate-review-tables">
										<div class="col-sm-12">
											<div layout="row" style="min-height:200px">
												<div layout="column" style="border: 1px solid #777; padding:3px" flex>
													<div class="row">
														<div class="col-sm-12">
															<p style="text-align:center">Project Summary/Objective</p>
															<div class="table-responsive">
																<table class="table table-striped table-bordered no-margin">
																	<tbody>
																		<tr ng-repeat="s in gateReviewData | filter: {Quadrant : 1}" ng-show="!s.isDeleted">
																			<td style="text-align:center; width: 45px"><md-button class="md-fab md-warn md-fab-xxs" aria-label="delete" ng-click="deleteRow(gateReviewData,s.arrayId)"><span class="zmdi zmdi-close"></span></md-button></td>
																			<td contentEditable="true" ng-model="gateReviewData[s.arrayId].Detail" ng-bind-html="gateReviewData[s.arrayId].Detail"></td>
																		</tr>
																		<tr><td colspan="2"><div layout="column"><button ui-wave type="button" class="btn btn-warning btn-w-md ui-wave" ng-click="gateReviewAddRow(1)"><span class="ink wave-animate"></span>Add Row</button></div></td></tr>
																	</tbody>
																</table>
															</div>
														</div>
													</div>
												</div>
												<div layout="column" style="border: 1px solid #777; padding:3px" flex>
													<div class="row">
														<div class="col-sm-12">
															<p style="text-align:center">Technology/Products</p>
															<div class="table-responsive">
																<table class="table table-striped table-bordered no-margin">
																	<tbody>
																		<tr ng-repeat="s in gateReviewData | filter: {Quadrant : 2}" ng-show="!s.isDeleted">
																			<td style="text-align:center; width: 45px"><md-button class="md-fab md-warn md-fab-xxs" aria-label="delete" ng-click="deleteRow(gateReviewData,s.arrayId)"><span class="zmdi zmdi-close"></span></md-button></td>
																			<td contentEditable="true" ng-model="gateReviewData[s.arrayId].Detail" ng-bind-html="gateReviewData[s.arrayId].Detail"></td>
																		</tr>
																		<tr><td colspan="2"><div layout="column"><button ui-wave type="button" class="btn btn-warning btn-w-md ui-wave" ng-click="gateReviewAddRow(2)"><span class="ink wave-animate"></span>Add Row</button></div></td></tr>
																	</tbody>
																</table>
															</div>
														</div>
													</div>
												</div>
											</div>
											<div layout="row" style="min-height:200px">
												<div layout="column" style="border: 1px solid #777; padding:3px" flex>
													<div class="row">
														<div class="col-sm-12">
															<p style="text-align:center">Schedule/Budget</p>
															<div class="table-responsive">
																<table class="table table-striped table-bordered no-margin">
																	<tbody>
																		<tr ng-repeat="s in gateReviewData | filter: {Quadrant : 3}" ng-show="!s.isDeleted">
																			<td style="text-align:center; width: 45px"><md-button class="md-fab md-warn md-fab-xxs" aria-label="delete" ng-click="deleteRow(gateReviewData,s.arrayId)"><span class="zmdi zmdi-close"></span></md-button></td>
																			<td contentEditable="true" ng-model="gateReviewData[s.arrayId].Detail" ng-bind-html="gateReviewData[s.arrayId].Detail"></td>
																		</tr>
																		<tr><td colspan="2"><div layout="column"><button ui-wave type="button" class="btn btn-warning btn-w-md ui-wave" ng-click="gateReviewAddRow(3)"><span class="ink wave-animate"></span>Add Row</button></div></td></tr>
																	</tbody>
																</table>
															</div>
														</div>
													</div>
												</div>
												<div layout="column" style="border: 1px solid #777; padding:3px" flex>
													<div class="row">
														<div class="col-sm-12">
															<p style="text-align:center">Graphic/OV-1</p>
															<div class="table-responsive">
																<table class="table table-striped table-bordered no-margin">
																	<tbody>
																		<tr ng-repeat="s in gateReviewData | filter: {Quadrant : 4}" ng-show="!s.isDeleted">
																			<td style="text-align:center; width: 45px"><md-button class="md-fab md-warn md-fab-xxs" aria-label="delete" ng-click="deleteRow(gateReviewData,s.arrayId)"><span class="zmdi zmdi-close"></span></md-button></td>
																			<td contentEditable="true" ng-model="gateReviewData[s.arrayId].Detail" ng-bind-html="gateReviewData[s.arrayId].Detail"></td>
																		</tr>
																		<tr><td colspan="2"><div layout="column"><button ui-wave type="button" class="btn btn-warning btn-w-md ui-wave" ng-click="gateReviewAddRow(4)"><span class="ink wave-animate"></span>Add Row</button></div></td></tr>
																	</tbody>
																</table>
															</div>
														</div>
													</div>
												</div>
											</div>
										</div>
									</div>
									<div class="row">
										<div class="col-sm-12" style="margin-top:10px">
											<md-button class="md-raised md-primary btn-w-md md-button md-ink-ripple pull-right" ng-transclude="" ng-click="submitGateReview()"><span class="ng-scope">Save Changes</span><div class="md-ripple-container"></div></md-button>
											<md-button class="md-raised md-accent btn-w-md md-button md-ink-ripple pull-right" style="margin-right:10px;" ng-transclude="" ng-click="completePhaseComponent('Define','Gate Review')"><span class="ng-scope">{{(phaseDetail.Gate_Review.Status != 'working') ? 'Mark Incomplete' : 'Mark Complete'}}</span><div class="md-ripple-container"></div></md-button>
										</div>
									</div>
									{{blockProjectEditing()}}
								</uib-tab>
							</uib-tabset>
						</div>
					</div>
				</div>
			</div>
		</section>
	</div>
</div>